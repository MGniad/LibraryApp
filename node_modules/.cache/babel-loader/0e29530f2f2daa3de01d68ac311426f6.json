{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marek\\\\Desktop\\\\projekt\\\\LibraryApp\\\\src\\\\components\\\\Book.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { ArrowClockwise, CheckCircleFill, Circle, Trash } from 'react-bootstrap-icons';\nimport firebase from '../firebase';\nimport moment from 'moment';\nimport { BookContext } from '../context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Book({\n  book\n}) {\n  _s();\n\n  const [hover, setHover] = useState(false);\n  const {\n    selectedBook,\n    setSelectedBook\n  } = useContext(BookContext);\n\n  const handleDelete = book => {\n    deleteBook(book);\n\n    if (selectedBook === book) {\n      setSelectedBook(undefined);\n    }\n  };\n\n  const deleteBook = book => {\n    firebase.firestore().collection('books').doc(book.id).delete();\n  };\n\n  const checkBook = book => {\n    firebase.firestore().collection('books').doc(book.id).update({\n      checked: !book.checked\n    });\n  };\n\n  const repeatNextDay = book => {\n    const nextDayDate = moment(book.date, 'DD/MM/YYYY').add(1, 'days');\n    const repeatedBook = { ...book,\n      checked: false,\n      date: nextDayDate.format('DD/MM/YYYY'),\n      day: nextDayDate.format('d')\n    };\n    delete repeatedBook.id;\n    firebase.firestore().collection('books').add(repeatedBook);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Book\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book-container\",\n      onMouseEnter: () => setHover(true),\n      onMouseLeave: () => setHover(false),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"check-book\",\n        onClick: () => checkBook(book),\n        children: book.checked ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"checked\",\n          children: /*#__PURE__*/_jsxDEV(CheckCircleFill, {\n            color: \"#bebebe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"unchecked\",\n          children: /*#__PURE__*/_jsxDEV(Circle, {\n            color: book.color\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        onClick: () => setSelectedBook(book),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: book.checked ? '#bebebe' : '#000000'\n          },\n          children: [book.text, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 92\n          }, this), \"by: \", book.author]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [book.date, \" - \", book.categoryName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `line ${book.checked ? 'line-trough' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"delete-book\",\n        onClick: () => handleDelete(book),\n        children: (hover || book.checked) && /*#__PURE__*/_jsxDEV(Trash, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Book, \"C5nbdElSesdfluwLbbKOZ/gChPg=\");\n\n_c = Book;\nexport default Book;\n\nvar _c;\n\n$RefreshReg$(_c, \"Book\");","map":{"version":3,"sources":["C:/Users/marek/Desktop/projekt/LibraryApp/src/components/Book.js"],"names":["React","useContext","useState","ArrowClockwise","CheckCircleFill","Circle","Trash","firebase","moment","BookContext","Book","book","hover","setHover","selectedBook","setSelectedBook","handleDelete","deleteBook","undefined","firestore","collection","doc","id","delete","checkBook","update","checked","repeatNextDay","nextDayDate","date","add","repeatedBook","format","day","color","text","author","categoryName"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport { ArrowClockwise, CheckCircleFill, Circle, Trash } from 'react-bootstrap-icons'\r\nimport firebase from '../firebase'\r\nimport moment from 'moment'\r\nimport { BookContext } from '../context'\r\n\r\nfunction Book({ book }) {\r\n    const [hover, setHover] = useState(false)\r\n\r\nconst {selectedBook, setSelectedBook} = useContext(BookContext)\r\n\r\nconst handleDelete = book =>{ \r\n    \r\n    deleteBook(book)\r\n    \r\n    if(selectedBook === book){\r\n        setSelectedBook(undefined)\r\n    }\r\n}\r\n\r\nconst deleteBook = book => {\r\n        firebase\r\n            .firestore()\r\n            .collection('books')\r\n            .doc(book.id)\r\n            .delete()\r\n    }\r\n\r\n    const checkBook = book => {\r\n        firebase\r\n            .firestore()\r\n            .collection('books')\r\n            .doc(book.id)\r\n            .update({\r\n                checked: !book.checked\r\n            })\r\n\r\n    }\r\n\r\nconst repeatNextDay = book => {\r\n    const nextDayDate = moment(book.date, 'DD/MM/YYYY').add(1, 'days')\r\n\r\n    const repeatedBook = {\r\n        ...book,\r\n        checked : false,\r\n        date : nextDayDate.format('DD/MM/YYYY'),\r\n        day : nextDayDate.format('d'),\r\n    }\r\n\r\n    delete repeatedBook.id\r\n\r\n    firebase\r\n    .firestore()\r\n    .collection('books')\r\n    .add(repeatedBook)\r\n}\r\n\r\n    return (\r\n        <div className='Book'>\r\n            <div className=\"book-container\"\r\n                onMouseEnter={() => setHover(true)}\r\n                onMouseLeave={() => setHover(false)}>\r\n                <div className=\"check-book\"\r\n                    onClick={() => checkBook(book)}>\r\n                    {\r\n                        book.checked ?\r\n                            <span className=\"checked\">\r\n                                <CheckCircleFill color=\"#bebebe\" />\r\n                            </span>\r\n                            :\r\n                            <span className=\"unchecked\">\r\n                                <Circle color={book.color} />\r\n\r\n                            </span>\r\n                    }\r\n                </div>\r\n                <div className=\"text\"\r\n                onClick = {() => setSelectedBook(book)}\r\n                >\r\n                    <p style={{ color: book.checked ? '#bebebe' : '#000000' }}>{book.text} <br/>by: {book.author}</p>\r\n                    <span>{book.date} - {book.categoryName}</span>\r\n                    <div className={`line ${book.checked ? 'line-trough' : ''}`}></div>\r\n\r\n                </div>\r\n                \r\n                <div className=\"delete-book\"\r\n                    onClick={() => handleDelete(book)}>\r\n                    {\r\n                        (hover || book.checked) &&\r\n                        <Trash />\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Book"]},"metadata":{},"sourceType":"module"}